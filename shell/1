x='exit 1|exit 2|exit 3'
eval "$x; typeset -a a=(\${PIPESTATUS[@]})"
echo ${a[@]}


y="ls test | exit 0 && [[ \${PIPESTATUS[0]} -ne 0 ]] && exit 1"
eval "$y"

x="time ls test | exit 0 "
eval "$x; code=(\${PIPESTATUS[0]})"
echo $code
[[ $code -ne 0 ]] && exit 1

echo "finish"

